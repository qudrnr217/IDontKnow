<template>
  <div>
    <div class="box-row-left">
      <div class="text-title text-h1 blue-4-text">íˆ¬í‘œ ë§Œë“¤ê¸°</div>
    </div>
    <div class="box-row-left">
      <div class="text-title text-h4 blue-4-text">
        ê³ ë¯¼ë˜ëŠ” ë‘ ê°€ì§€ì˜ ì„ íƒì§€ë¥¼ ê³µìœ í•´ë³´ì„¸ìš” !
      </div>
    </div>

    <div class="box-row-left">
      <div class="text-title text-h2 blue-4-text">ì¹´í…Œê³ ë¦¬ğŸ·</div>
    </div>
    <div class="box-row">
      <select
        v-model="info.category"
        class="sb-rectangle-long sel text-h3 blue-3-border"
      >
        <option selected disabled value="">ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</option>
        <option
          v-for="(category, index) in Category"
          :key="index"
          :value="category"
        >
          {{ category }}
        </option>
      </select>
    </div>
    <div class="box-row-left" v-if="info.category === 'ë©”ë‰´'">
      <div class="text-title text-h2 blue-4-text">ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ğŸ™</div>
    </div>
    <div class="box-row-left" v-if="info.category === 'ìŠ¤íƒ€ì¼'">
      <div class="text-title text-h2 blue-4-text">ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ğŸ‘•</div>
    </div>
    <div class="box-row-left" v-if="info.category === 'ì¥ì†Œ'">
      <div class="text-title text-h2 blue-4-text">ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ğŸš—</div>
    </div>
    <div class="box-row" v-if="info.category === 'ë©”ë‰´'">
      <select
        v-model="info.subCategory"
        class="sb-rectangle-long sel text-h3 blue-3-border"
      >
        <option selected disabled value="">
          ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.
        </option>
        <option
          v-for="(item, index) in Category_Menu"
          :key="index"
          :value="item"
        >
          {{ item }}
        </option>
      </select>
    </div>
    <div class="box-row" v-if="info.category === 'ìŠ¤íƒ€ì¼'">
      <select
        v-model="info.subCategory"
        class="sb-rectangle-long sel text-h3 blue-3-border"
      >
        <option selected disabled>ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</option>
        <option
          v-for="(item, index) in Category_Style"
          :key="index"
          :value="item"
        >
          {{ item }}
        </option>
      </select>
    </div>
    <div class="box-row" v-if="info.category === 'ì¥ì†Œ'">
      <select
        v-model="info.subCategory"
        class="sb-rectangle-long sel text-h3 blue-3-border"
      >
        <option selected disabled>ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</option>
        <option
          v-for="(item, index) in Category_Location"
          :key="index"
          :value="item"
        >
          {{ item }}
        </option>
      </select>
    </div>
    <div class="box-row-left">
      <div class="text-title text-h2 blue-4-text">ì œëª©ğŸ“Œ</div>
    </div>
    <div class="box-row text-h3">
      <input
        id="title"
        class="input-rectangle-long blue-3-border"
        type="text"
        style="font-size: 16px; border-radius: 10px"
        v-model="info.title"
        placeholder="ì œëª©ì„ ì‘ì„±í•´ì£¼ì„¸ìš”(25ì ì´ë‚´)."
      />
    </div>
    <!-- íˆ¬í‘œ ì„ íƒì§€ -->
    <div class="box-row-left">
      <div class="text-title text-h2 blue-4-text">ì„ íƒì§€ğŸ“</div>
    </div>
    <div class="box-row-left">
      <div class="text-title text-h4 blue-3-text">
        25ì ì´ë‚´ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.
      </div>
    </div>
    <div class="vote-options-box-big">
      <div
        id="vote-option-a"
        class="vote-option-box-big text-h4 white blue-3-border"
      >
        <div class="box-row">
          <textarea
            v-model="info.optionA"
            id="optionA"
            type="text"
            class="vote-option-input"
            placeholder="Aë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”."
          />
        </div>
      </div>
      <div
        id="vote-option-b"
        class="vote-option-box-big text-h4 white blue-3-border"
      >
        <div class="box-row">
          <textarea
            v-model="info.optionB"
            id="optionB"
            type="text"
            class="vote-option-input"
            placeholder="Bë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”."
          />
        </div>
      </div>
    </div>
    <div class="box-btn-right" @click="createVote">
      <div class="btn-rectangle-medium blue-2">ë§Œë“¤ê¸°</div>
    </div>
  </div>
</template>

<script>
import { mapActions, mapState } from "vuex";

export default {
  name: "VoteCreate",
  components: {},
  data() {
    return {
      info: {
        category: "",
        subCategory: "",
        title: "",
        optionA: "",
        optionB: "",
      },

      Category: ["ë©”ë‰´", "ìŠ¤íƒ€ì¼", "ì¥ì†Œ"],
      Category_Menu: [
        "í•œì‹",
        "ë¶„ì‹",
        "ì¹´í˜_ë””ì €íŠ¸",
        "ëˆê¹ŒìŠ¤_ì¼ì‹",
        "íšŒ",
        "ì¹˜í‚¨",
        "í”¼ì",
        "ì•„ì‹œì•ˆ_ì–‘ì‹",
        "ì¤‘ì‹",
        "ì¡±ë°œ_ë³´ìŒˆ",
        "ì•¼ì‹",
        "ì°œíƒ•",
        "ë„ì‹œë½",
        "íŒ¨ìŠ¤íŠ¸í‘¸ë“œ",
      ],
      Category_Location: ["ì‹¤ë‚´", "ì‹¤ì™¸"],
      Category_Style: ["ë¨¸ë¦¬", "ì˜·", "ì‹ ë°œ", "ì•…ì„¸ì„œë¦¬"],
    };
  },

  computed: {
    ...mapState("userStore", ["accessToken"]),
  },
  methods: {
    ...mapActions("communityStore", ["REGIST_VOTE"]),
    createVote() {
      // íˆ¬í‘œ ë§Œë“¤ê¸° api í˜¸ì¶œ
      // íˆ¬í‘œ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
      this.REGIST_VOTE({
        info: this.info,
        token:
          // "Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiIyIiwiYXVkIjoi7LmY7YKo65-s67KEIiwiZXhwIjoxNjY0OTU0NzQ3fQ.BVaQ9ohkpvxgUeAvM1Z6pl6ywg5bsDw7HwUjagTkwEIuWdmbc2oTRqbpKekbRO1D",
          this.accessToken,
      });
      console.log(this.info.category);
      this.$router.push({
        name: "voteList",
        path: "/",
        params: { status: false, category: this.info.category },
      });
    },
  },
};
</script>

<style scoped></style>
